<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>1243I Tracking - SW Lines</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            crossorigin="anonymous"></script>

    <link href="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.css" rel="stylesheet">
    <link href="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/sticky-header/bootstrap-table-sticky-header.css" 
          rel="stylesheet">

    <script src="https://unpkg.com/tableexport.jquery.plugin/tableExport.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/sticky-header/bootstrap-table-sticky-header.min.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/export/bootstrap-table-export.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/wenzhixin/bootstrap-table-examples@master/utils/natural-sorting/dist/natural-sorting.js"></script>
    <script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>


    <link rel="stylesheet" href="../css/site_styles.css">
    <link rel="stylesheet" href="tracking.css">
    <script src="../js/top_nav_bar.js"></script>
    <script src="../js/sewer_line_reflexive_functions.js"></script>
    <script src="../js/sewer_status_codes.js"></script>
    <script src="../data/1243I_sewer_lines.js"></script>


</head>

<body>
    <div class="grid-parent-other-page-tracking">
        <div class="grid-div-menu-nav-other" id="menu_nav">
            <script>
                document.getElementById("menu_nav").innerHTML += top_nav('Asset_Tracking_-_SW_Line');
            </script>
        </div>
        <div>
            <table id="sw_line_table"
	           class ="tracking_table"
	           data-search="true"
		   data-show-columns="true"
		   data-show-columns-toggle-all="true"
		   data-show-export="true"
		   data-click-to-select="true"
		   data-minimum-count-columns="1"
		   data-pagination="true"
		   data-sortable="true"
		   data-page-list="[8]"
		   data-page-size="8"
		   data-response-handler="responseHandler"
		   data-filter-control="true"
                   ></table>
        </div>
    </div>

    <script>
    
        //var sw_lines = [];
        
        //for (const entry of json_1243I_sewer_lines.features) {
         // if ( entry.properties.sw_type == 'lt' || entry.properties.sw_type == 'cl')
         //   {
        //     sw_lines.push(entry);
         //   }      
        //}
   
        json_1243I_sewer_lines.features.sort( (a, b) => (a.properties.scope > b.properties.scope) ? -1 : 1 );
  
        $('#sw_line_table').bootstrapTable({
            data: json_1243I_sewer_lines.features,
            //stickyHeader: true,
            //showFullscreen: true,

            columns: [{
                    field: 'properties.sw_type',
                    title: 'Line<br>Type',
                    sortable: true,
                   // width: '5',
                   // widthUnit: "%"
                    filterControl: "select",
                    class: "text-uppercase"
                },
                {
                    field: 'properties.id_a',
                    title: 'ASSET ID',
                    sortable: true
                    //width: '5',
                    //widthUnit: "%"
                },
                {
                    field: 'asset_coordinate',
                    title: 'LOCATION',
                    sortable: true
                    //width: '20',
                    //widthUnit: "%"
                },
                {
                    field: 'properties.scope',
                    title: 'SCOPE<br>&nbsp;',
                    sortable: true,                   
                    //width: '10',
                    //widthUnit: "%",
                    filterControl: "select"
                },
                {
                    field: 'properties.status',
                    title: 'STATUS<br>&nbsp;',
                    sortable: true,
                    filterControl: "select"
                },
               // {
               //     field: 'properties.bid_items',
               //     title: 'Bid Items',
               //     sortable: true
               // },
                 {
                    field: 'properties.submittals.tvi_pre_con.submittal_no',
                    title: '<u>PRECON</u><br>SUBMITTAL',
                    sortable: true,
                    filterControl: "select"
                },
                 {
                    field: 'properties.submittals.tvi_pre_con.video_no',
                    title: 'VIDEO',
                    sortable: true
                },
                 {
                    field: 'properties.submittals.tvi_pre_con.response',
                    title: 'RESPONSE<br>&nbsp;',
                    sortable: true,
                    filterControl: "select"
                },
                 {
                    field: 'properties.submittals.tvi_pre_con.response_date',
                    title: 'RESPONSE<br>DATE',
                    sortable: true
                },
                 {
                    field: 'properties.submittals.tvi_post_con.submittal_no',
                    title: '<u>POSTCON</u><br>SUBMITTAL',
                    sortable: true,
                    filterControl: "select"
                },
                 {
                    field: 'properties.submittals.tvi_post_con.video_no',
                    title: 'VIDEO',
                    sortable: true
                },
                 {
                    field: 'properties.submittals.tvi_post_con.response',
                    title: 'RESPONSE<br>&nbsp;',
                    sortable: true,
                    filterControl: "select"
                },
                 {
                    field: 'properties.submittals.tvi_post_con.response_date',
                    title: 'RESPONSE<br>DATE',
                    sortable: true
                },
            ]
        })
       
        
       

    </script>

</body>

</html>
